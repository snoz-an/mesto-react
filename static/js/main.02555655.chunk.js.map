{"version":3,"sources":["images/Logo.svg","components/Header.js","images/edit__button.svg","images/add__button.svg","images/like.svg","images/card-delete.svg","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWidthForm.js","components/ImagePopup.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","utils/Api.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","src","logo","alt","CurrentUserContext","React","createContext","Card","props","cardData","currentUser","useContext","isOwn","owner","_id","isLiked","likes","some","i","link","name","onClick","onCardClick","type","Like","onCardLike","length","onCardDelete","Delete","style","display","id","Main","avatar","onEditAvatar","onEditProfile","editButton","about","onAddPlace","addButton","cards","map","card","Footer","PopupWidthForm","isOpen","noValidate","onSubmit","aria-label","onClose","title","children","textBtn","ImagePopup","EditProfilePopup","useState","setName","description","setDescription","useEffect","e","preventDefault","onUpdateUser","value","onChange","target","required","minLength","maxLength","placeholder","EditAvatarPopup","avatarRef","useRef","current","ref","AddPlacePopup","api","options","this","_url","baseUrl","_headers","headers","res","ok","json","Promise","reject","Error","status","fetch","then","_parseResult","method","data","body","JSON","stringify","userId","authorization","App","isEditProfilePopupOpen","setProfilePopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","isEditAvatarPopupOpen","setEditAvatarPopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","closeAllPopups","getInitialCards","catch","err","console","log","getUserProfile","Provider","dislikeCard","newCard","newCards","c","likeCard","deleteCard","filter","setUserProfile","addNewCard","newAvatar","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.02555655.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/Logo.ff16f24b.svg\";","import logo from '../images/Logo.svg';\r\n\r\nfunction Header() {\r\n    return(\r\n        <header className=\"header\">\r\n            <img src={logo} alt=\"логотип\" className=\"header__logo\"/>\r\n        </header>\r\n    ) \r\n}\r\n\r\nexport default Header","export default __webpack_public_path__ + \"static/media/edit__button.8667ac4a.svg\";","export default __webpack_public_path__ + \"static/media/add__button.d86bb2ed.svg\";","export default __webpack_public_path__ + \"static/media/like.49570bcb.svg\";","export default __webpack_public_path__ + \"static/media/card-delete.a274c87c.svg\";","import React from 'react';\r\nconst CurrentUserContext = React.createContext();\r\nexport default CurrentUserContext\r\n  ","import React from 'react';\r\nimport Like from '../images/like.svg';\r\nimport Delete from '../images/card-delete.svg';\r\nimport CurrentUserContext from '../contexts/CurrentUserContext';\r\n\r\nfunction Card(props) {\r\n    const cardData = props.cardData;\r\n    function handleClick() {\r\n        props.onCardClick(cardData);\r\n    } \r\n\r\n    function handleLikeClick() {\r\n        props.onCardLike(cardData);\r\n    } \r\n\r\n    function handleDeleteClick() {\r\n        props.onCardDelete(cardData);\r\n    } \r\n\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n    const isOwn = cardData.owner._id === currentUser._id;\r\n    const isLiked = cardData.likes.some(i => i._id === currentUser._id);\r\n\r\n    return(\r\n        <div key={cardData.id} className=\"card\">\r\n            <img src = {cardData.link} alt={cardData.name} className=\"card__img\" onClick={handleClick} />\r\n            <div className=\"card__name-container\">\r\n                <h3 className=\"card__name\">{cardData.name}</h3>\r\n                    <div className=\"like__container\">\r\n                        <button type=\"button\" className={`like ${isLiked && \"like_active\"}`} >\r\n                            <img src={Like} alt=\"лайк\" onClick={handleLikeClick}/>\r\n                        </button>\r\n                        <span className=\"like__counter\">{cardData.likes.length}</span>\r\n                    </div>\r\n                    <button type=\"button\" className=\"card__delete\" onClick={handleDeleteClick}>\r\n                        <img src={Delete} style={{display: isOwn? 'block': 'none' }} alt=\"удалить\"/>\r\n                    </button>\r\n            </div>\r\n        </div>\r\n    ) \r\n}\r\n\r\nexport default Card","import editButton from '../images/edit__button.svg'\r\nimport addButton from '../images/add__button.svg'\r\nimport React from 'react';\r\nimport Card from './Card'\r\nimport CurrentUserContext from '../contexts/CurrentUserContext';\r\n\r\n\r\nfunction Main(props) {\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n\r\n    return(\r\n        <>\r\n        <main>\r\n            <section className=\"profile\">   \r\n                <div className=\"profile__container\">     \r\n                    <img src={currentUser.avatar} alt=\"аватар\" className=\"profile__avatar\"/>\r\n                    <button type=\"button\" className=\"profile__avatar-button\"  onClick={props.onEditAvatar}></button>\r\n                        <div className=\"profile__info\">\r\n                            <div className=\"profile__info-container\"><h1 className=\"profile__name\">{currentUser.name}</h1>\r\n                                <button type=\"button\" className=\"profile__edit-button\" onClick={props.onEditProfile}>\r\n                                    <img src={editButton} alt=\"ручка\" className=\"profile__edit-button-vector\"/>\r\n                                </button>\r\n                            </div>\r\n                            <p className=\"profile__activity\">{currentUser.about}</p>          \r\n                        </div>\r\n                </div>\r\n                <button type=\"button\" className=\"profile__add-button\"  onClick={props.onAddPlace}>\r\n                    <img src={addButton} alt=\"добавить\" className=\"profile__add-button-vector\"/>\r\n                </button>\r\n            </section>    \r\n        </main>\r\n\r\n        <div id=\"elementsTemplate\">\r\n            <div className=\"elements cards\">\r\n              {props.cards.map((card)=> (\r\n                <Card key={card._id} cardData={card} onCardClick={props.onCardClick} \r\n                onCardLike={props.onCardLike} onCardDelete={props.onCardDelete}/>\r\n               )\r\n               )}\r\n            </div>\r\n        </div> \r\n        </> \r\n    ) \r\n}\r\n\r\nexport default Main\r\n","function Footer() {\r\n    return(\r\n        <footer className=\"page__footer\">\r\n            <p className=\"page__footer-author\">&copy; 2020 Mesto Russia</p>\r\n        </footer>\r\n    ) \r\n}\r\n\r\nexport default Footer","function PopupWidthForm(props) {\r\n\r\n    return(\r\n        <section className={`popup ${props.isOpen? \"popup_opened\": \"\"}`}  id={props.name}>   \r\n            <div className=\"popup__container\"> \r\n                <form className=\"popup__form\" name={`form-${props.name}`} noValidate onSubmit={props.onSubmit}>  \r\n                    <button type=\"button\" className=\"popup__close\" aria-label=\"Закрыть попап\"  onClick={props.onClose}></button> \r\n                    <h3 className=\"popup__header\">{props.title}</h3>\r\n                    {props.children}\r\n                    <button type=\"submit\" className=\"popup__save popup__save_add\">{props.textBtn}</button>\r\n                </form>\r\n            </div>\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default PopupWidthForm","function ImagePopup(props) {\r\n\r\n    return(\r\n        <div className={`popup popup_img ${props.card.link? \"popup_opened\":\"\"}`}  id=\"popupImg\">\r\n            <div className=\"popup__container-img\"> \r\n                <img className=\"popup__img\" src={props.card.link} alt=\"#\"/> \r\n                <div className=\"popup__img-caption\">{props.card.name}</div>\r\n                <button type=\"button\" className=\"popup__close popup__close-img\" aria-label=\"Закрыть попап\" onClick={props.onClose}></button>\r\n            </div>\r\n        </div> \r\n    )\r\n}\r\n\r\nexport default ImagePopup","import React from 'react';\r\nimport PopupWidthForm from './PopupWidthForm';\r\nimport CurrentUserContext from '../contexts/CurrentUserContext';\r\n\r\nfunction EditProfilePopup(props) {\r\n\r\n    const [name, setName ] = React.useState('');\r\n    const [description, setDescription ] = React.useState({});\r\n\r\n    function handleChangeName(e) {\r\n        setName(e.target.value);\r\n    }\r\n\r\n    function handleChangeDescription(e) {\r\n        setDescription(e.target.value);\r\n    }  \r\n\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n    \r\n    React.useEffect(() => {\r\n        setName(currentUser.name);\r\n        setDescription(currentUser.about);\r\n    }, [props.isOpen]); \r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        props.onUpdateUser({\r\n          name,\r\n          about: description\r\n        });\r\n    } \r\n    \r\n    return (\r\n        <PopupWidthForm isOpen={props.isOpen} onClose={props.onClose} name=\"popupEdit\" title=\"Редактировать профиль\" textBtn=\"Сохранить\" onSubmit={handleSubmit} children = {\r\n        <>\r\n           <input value={name || \"\"} onChange={handleChangeName} required minLength=\"2\" maxLength=\"40\" type=\"text\" name=\"name\" placeholder=\"Имя\" id=\"input-name\" className=\"popup__input popup__input_name\" type=\"text\" />\r\n           <span className=\"popup__error\" id=\"input-name-error\"></span>\r\n           <input value={description || \"\"} onChange={handleChangeDescription} required minLength=\"2\" maxLength=\"200\" type=\"text\" name=\"activity\" placeholder=\"О себе\" id=\"input-activity\" className=\"popup__input popup__input_activity\" type=\"text\" />\r\n           <span className=\"popup__error\" id=\"input-activity-error\"></span>\r\n        </>\r\n        }/>\r\n    )\r\n}\r\n\r\nexport default EditProfilePopup","import React from 'react';\r\nimport PopupWidthForm from './PopupWidthForm';\r\n\r\nfunction EditAvatarPopup(props) {\r\n    const avatarRef = React.useRef()\r\n\r\n    React.useEffect(() => {\r\n        avatarRef.current.value = '';\r\n    }, [props.isOpen]);\r\n\r\n    function handleAvatarSubmit(e) {\r\n        e.preventDefault();\r\n        props.onUpdateUser({\r\n            avatar: avatarRef.current.value\r\n        });\r\n    }\r\n\r\nreturn (\r\n    <PopupWidthForm  isOpen={props.isOpen} onClose={props.onClose} onUpdateUser={props.onUpdateUser} name=\"popupAvatar\" title=\"Обновить аватар\" textBtn=\"Сохранить\" onSubmit={handleAvatarSubmit}  children = {\r\n        <>\r\n               <input required name=\"avatar-url\" placeholder=\"Ссылка на картинку\" id=\"input-url\" className=\"popup__input popup__input_avatar-link\" type=\"url\" ref={avatarRef}/>\r\n               <span className=\"popup__error\" id=\"input-url-error\"></span>\r\n        </>\r\n        }/>\r\n)\r\n}\r\n\r\nexport default EditAvatarPopup","import React from 'react';\r\nimport PopupWidthForm from './PopupWidthForm';\r\n\r\nfunction AddPlacePopup(props) {\r\n    const name = React.useRef()\r\n    const link = React.useRef()\r\n\r\n    React.useEffect(() => {\r\n        name.current.value = '';\r\n        link.current.value = '';\r\n    }, [props.isOpen]);\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        props.onAddPlace({\r\n          name: name.current.value,\r\n          link: link.current.value\r\n        });\r\n      }\r\n    \r\nreturn(\r\n\r\n<PopupWidthForm isOpen={props.isOpen} onClose={props.onClose}  name=\"popupAdd\" title=\"Новое место\" textBtn=\"Создать\" onSubmit={handleSubmit} children = {\r\n    <>\r\n       <input ref={name} required minLength=\"2\" maxLength=\"30\" type=\"text\" name=\"card-name\" placeholder=\"Название\" id=\"input-text\" className=\"popup__input popup__input_card-name\"/>\r\n       <span className=\"popup__error\" id=\"input-text-error\"></span>\r\n       <input ref={link} required name=\"card-url\" placeholder=\"Ссылка на картинку\" id=\"input-url\" className=\"popup__input popup__input_card-link\" type=\"url\"/>\r\n       <span className=\"popup__error\" id=\"input-url-error\"></span>\r\n    </>\r\n}/>\r\n)\r\n}\r\n\r\nexport default AddPlacePopup","export class Api {\r\n  constructor(options) {\r\n    this._url = options.baseUrl;\r\n    this._headers = options.headers;\r\n  }\r\n\r\n  _parseResult(res) {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n    return Promise.reject(new Error(`Ошибка: ${res.status}`));\r\n  }\r\n\r\n\r\n  getInitialCards() {\r\n    return fetch(`${this._url}/cards`, {\r\n      headers: this._headers\r\n    })\r\n      .then(res => {\r\n        return this._parseResult(res)\r\n      })\r\n  }\r\n\r\n\r\n  getUserProfile() {\r\n    return fetch(`${this._url}/users/me`, {\r\n      method: 'GET',\r\n      headers: this._headers,\r\n    })\r\n      .then(res => {\r\n        return this._parseResult(res)\r\n      })\r\n  }\r\n\r\n\r\n  setUserProfile(data) {\r\n    return fetch(`${this._url}/users/me`, {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: data.name,\r\n        about: data.about\r\n      }),\r\n    })\r\n      .then(res => {\r\n        return this._parseResult(res)\r\n      })\r\n  }\r\n\r\n  addNewCard(data, userId) {\r\n    return fetch(`${this._url}/cards`, {\r\n      method: 'POST',\r\n      headers: this._headers,\r\n      body: JSON.stringify(data, userId),\r\n    })\r\n      .then(res => {\r\n        return this._parseResult(res)\r\n      })\r\n  }\r\n\r\n\r\n  newAvatar(data) {\r\n    return fetch(`${this._url}/users/me/avatar`, {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body: JSON.stringify(data)\r\n    })\r\n      .then(res => {\r\n        return this._parseResult(res)\r\n      })\r\n\r\n  }\r\n\r\n  deleteCard(id) {\r\n    return fetch(`${this._url}/cards/${id}`, {\r\n      method: 'DELETE',\r\n      headers: this._headers,\r\n    })\r\n      .then(res => {\r\n        return this._parseResult(res)\r\n      })\r\n  }\r\n\r\n\r\n  likeCard(id) {\r\n    return fetch(`${this._url}/cards/likes/${id}`, {\r\n      method: 'PUT',\r\n      headers: this._headers,\r\n    })\r\n      .then(res => {\r\n        return this._parseResult(res)\r\n      })\r\n  }\r\n\r\n  dislikeCard(id) {\r\n    return fetch(`${this._url}/cards/likes/${id}`, {\r\n      method: 'DELETE',\r\n      headers: this._headers,\r\n    })\r\n      .then(res => {\r\n        return this._parseResult(res)\r\n      })\r\n  }\r\n\r\n}\r\n\r\n\r\n const api = new Api({\r\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-17',\r\n  headers: {\r\n    authorization: '5aa200a5-627f-47bb-8621-5fa3329764a9',\r\n    \"Content-Type\": \"application/json\",\r\n  },\r\n}\r\n)\r\n\r\nexport default api","import React from 'react';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport PopupWidthForm from './PopupWidthForm';\nimport ImagePopup from './ImagePopup';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport api from '../utils/Api';\nimport CurrentUserContext from '../contexts/CurrentUserContext';\n\nfunction App() {\n  const [isEditProfilePopupOpen, setProfilePopupOpen] = React.useState(false)\n  const [isAddPlacePopupOpen, setAddPlacePopupOpen] = React.useState(false)\n  const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = React.useState(false)\n  const [selectedCard, setSelectedCard] = React.useState(false)\n  const [currentUser, setCurrentUser ] = React.useState({})\n  const [cards, setCards] = React.useState([])\n\n  React.useEffect(()=>{\n    api.getInitialCards()\n    .then((data)=>{\n        setCards(data)\n        })\n        .catch((err)=>{\n          console.log(err)\n        })\n  }, [])\n\n\n  React.useEffect(()=>{\n    api.getUserProfile()\n    .then((res)=>{\n      setCurrentUser(res)\n      })\n      .catch((err)=>{\n          console.log(err)\n      })\n  })\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n    if (!isLiked) { \n      api.likeCard(card._id)\n      .then((newCard) => {\n        const newCards = cards.map((c) => c._id === card._id ? newCard : c);\n        setCards(newCards);\n      })\n      .catch((err)=>{\n        console.log(err)\n        })\n      } else {\n          api.dislikeCard(card._id)\n          .then((newCard) => {  \n            const newCards = cards.map((c) => c._id === card._id ? newCard : c);\n            setCards(newCards);\n          })\n          .catch((err)=>{\n              console.log(err)\n            })\n          }  \n  }\n\n  function handleCardDelete(card) {\n    const isOwn = card.owner._id === currentUser._id;\n    api.deleteCard(card._id, isOwn)\n    .then(() => {\n    // Формируем новый массив на основе имеющегося, подставляя в него новую карточку\n      const newCards = cards.filter((c) =>  {\n      return (c._id !== card._id) });\n      // Обновляем стейт\n      setCards(newCards);\n    })\n    .catch((err)=>{\n      console.log(err)\n    })\n  }\n\n  function handleUpdateUser(data) {\n    api.setUserProfile(data)\n    .then((res)=>{\n      setCurrentUser({\n        name: res.name,\n        about: res.about,\n      })\n      closeAllPopups();\n      })\n      .catch((err)=>{\n        console.log(err)\n      })\n  }\n\n  function handleUpdateAvatar(data){\n    api.newAvatar(data)\n    .then((res) =>{\n      setCurrentUser({\n        avatar: res.avatar,\n      })\n      closeAllPopups()\n    })\n    .catch((err)=>{\n      console.log(err)\n    })\n  }\n\n  function handleAddPlaceSubmit(data){\n    api.addNewCard(data)\n    .then((newCard) => {\n      setCards(\n        [newCard, ...cards]     \n      )\n      closeAllPopups()\n    })\n    .catch((err)=>{\n      console.log(err)\n    })\n  }\n\n  function handleEditProfileClick() {\n    setProfilePopupOpen(!isEditProfilePopupOpen)\n  }\n\n  function handleAddPlaceClick() {\n    setAddPlacePopupOpen(!isAddPlacePopupOpen)\n  }\n\n  function handleEditAvatarClick() {\n    setEditAvatarPopupOpen(!isEditAvatarPopupOpen)\n  }\n\n  function handleCardClick(card) {\n    setSelectedCard(card)\n  } \n\n  function closeAllPopups() {\n    setProfilePopupOpen(false)\n    setAddPlacePopupOpen(false)\n    setEditAvatarPopupOpen(false)\n    setSelectedCard(false)\n  }\n\n  return (\n  <>\n    <CurrentUserContext.Provider value={currentUser}>\n\n      <Header/>\n      <Main onEditProfile={handleEditProfileClick} onAddPlace={handleAddPlaceClick} onEditAvatar={handleEditAvatarClick} \n        onCardClick={handleCardClick} onCardLike={handleCardLike} onCardDelete={handleCardDelete} cards={cards}/>\n      <Footer/>\n      <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser} />\n      <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onAddPlace={handleAddPlaceSubmit}/> \n      <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateAvatar} /> \n      <PopupWidthForm name=\"popupWarning\" title=\"Вы уверены\" textBtn=\"Да\" />\n      <ImagePopup onClose={closeAllPopups} card={selectedCard} />\n\n    </CurrentUserContext.Provider>\n  </>);\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}